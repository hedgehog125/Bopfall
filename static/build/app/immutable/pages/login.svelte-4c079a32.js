import{S as H,i as J,s as V,l as h,m as b,p as E,h as d,b as C,f as P,g as ue,t as R,d as ce,a as k,u as L,c as T,v as M,q as f,J as c,w as ie,N as fe,O as ee,P as F,L as O,Q as pe,n as G,M as de,x as te,y as ae,z as se,C as le,o as me}from"../chunks/index-5a079fc8.js";import{s as _e,l as he,c as be,b as ge,i as ve}from"../chunks/Backend-117789f0.js";import"../chunks/singletons-0c0466c6.js";function ye(n){const t=n-1;return t*t*t+1}function oe(n,{delay:t=0,duration:l=400,easing:a=ye,x:s=0,y:e=0,opacity:r=0}={}){const i=getComputedStyle(n),u=+i.opacity,o=i.transform==="none"?"":i.transform,g=u*(1-r);return{delay:t,duration:l,easing:a,css:(v,N)=>`
			transform: ${o} translate(${(1-v)*s}px, ${(1-v)*e}px);
			opacity: ${u-g*N}`}}function re(n){let t,l,a,s=n[0].message+"",e,r,i,u=n[0].isError&&ne();return{c(){t=h("div"),l=h("span"),u&&u.c(),a=k(),e=L(s),this.h()},l(o){t=b(o,"DIV",{class:!0});var g=E(t);l=b(g,"SPAN",{class:!0});var v=E(l);u&&u.l(v),a=T(v),e=M(v,s),v.forEach(d),g.forEach(d),this.h()},h(){f(l,"class","svelte-1qbpkwj"),f(t,"class","svelte-1qbpkwj")},m(o,g){C(o,t,g),c(t,l),u&&u.m(l,null),c(l,a),c(l,e),i=!0},p(o,g){o[0].isError?u||(u=ne(),u.c(),u.m(l,a)):u&&(u.d(1),u=null),(!i||g&1)&&s!==(s=o[0].message+"")&&ie(e,s)},i(o){i||(fe(()=>{r||(r=ee(t,oe,{y:75,duration:750},!0)),r.run(1)}),i=!0)},o(o){r||(r=ee(t,oe,{y:75,duration:750},!1)),r.run(0),i=!1},d(o){o&&d(t),u&&u.d(),o&&r&&r.end()}}}function ne(n){let t,l,a;return{c(){t=h("span"),l=L("Error"),a=L(":"),this.h()},l(s){t=b(s,"SPAN",{class:!0});var e=E(t);l=M(e,"Error"),e.forEach(d),a=M(s,":"),this.h()},h(){f(t,"class","svelte-1qbpkwj")},m(s,e){C(s,t,e),c(t,l),C(s,a,e)},d(s){s&&d(t),s&&d(a)}}}function we(n){let t,l,a=n[0]!=null&&re(n);return{c(){t=h("main"),a&&a.c()},l(s){t=b(s,"MAIN",{});var e=E(t);a&&a.l(e),e.forEach(d)},m(s,e){C(s,t,e),a&&a.m(t,null),l=!0},p(s,[e]){s[0]!=null?a?(a.p(s,e),e&1&&P(a,1)):(a=re(s),a.c(),P(a,1),a.m(t,null)):a&&(ue(),R(a,1,1,()=>{a=null}),ce())},i(s){l||(P(a),l=!0)},o(s){R(a),l=!1},d(s){s&&d(t),a&&a.d()}}}function Ee(n,t,l){let a=[],s;const e=i=>{a.splice(0,1),a.length==0?l(0,s=null):(l(0,s=a[0]),setTimeout(e,e.duration*1e3))},r=(i,u=5,o=!1)=>{a.push({message:i,duration:u,isError:o}),l(0,s=a[0]),setTimeout(e,u*1e3)};return _e(r),[s,r]}class $e extends H{constructor(t){super(),J(this,t,Ee,we,V,{display:1})}get display(){return this.$$.ctx[1]}}function ke(n){let t,l,a,s,e,r,i,u,o,g,v,N,$,q=n[2]?"Setup code":"Password",S,w,D,p,I,B,U,Y,j,A,Q,W,K;return{c(){t=h("main"),l=h("h2"),a=L("Welcome!"),s=k(),e=h("form"),r=h("label"),i=L("Domain:"),u=k(),o=h("input"),g=k(),v=h("br"),N=k(),$=h("label"),S=L(q),w=L(":"),D=k(),p=h("input"),U=k(),Y=h("br"),j=k(),A=h("button"),Q=L("Connect"),this.h()},l(m){t=b(m,"MAIN",{});var _=E(t);l=b(_,"H2",{});var X=E(l);a=M(X,"Welcome!"),X.forEach(d),s=T(_),e=b(_,"FORM",{autocomplete:!0});var y=E(e);r=b(y,"LABEL",{for:!0});var Z=E(r);i=M(Z,"Domain:"),Z.forEach(d),u=T(y),o=b(y,"INPUT",{type:!0,"aria-label":!0,placeholder:!0,name:!0,autocomplete:!0,id:!0}),g=T(y),v=b(y,"BR",{}),N=T(y),$=b(y,"LABEL",{for:!0});var z=E($);S=M(z,q),w=M(z,":"),z.forEach(d),D=T(y),p=b(y,"INPUT",{type:!0,"aria-label":!0,placeholder:!0,name:!0,autocomplete:!0,id:!0}),U=T(y),Y=b(y,"BR",{}),j=T(y),A=b(y,"BUTTON",{type:!0});var x=E(A);Q=M(x,"Connect"),x.forEach(d),y.forEach(d),_.forEach(d),this.h()},h(){f(r,"for","domain"),f(o,"type","text"),o.required=!0,o.disabled=n[3],f(o,"aria-label","The domain name to connect to"),f(o,"placeholder","Enter a domain..."),f(o,"name","username"),f(o,"autocomplete","username"),f(o,"id","domain"),f($,"for","password"),f(p,"type","password"),p.required=!0,p.disabled=n[3],f(p,"aria-label",I=n[2]?"Your setup code":"Your password"),f(p,"placeholder",B=n[2]?"Enter your setup code...":"Enter your password..."),f(p,"name","password"),f(p,"autocomplete","current-password"),f(p,"id","password"),f(A,"type","submit"),A.disabled=n[3],f(e,"autocomplete","on")},m(m,_){C(m,t,_),c(t,l),c(l,a),c(t,s),c(t,e),c(e,r),c(r,i),c(e,u),c(e,o),F(o,n[0]),c(e,g),c(e,v),c(e,N),c(e,$),c($,S),c($,w),c(e,D),c(e,p),F(p,n[1]),c(e,U),c(e,Y),c(e,j),c(e,A),c(A,Q),W||(K=[O(o,"input",n[6]),O(o,"focusout",n[5]),O(p,"input",n[7]),O(e,"submit",pe(n[4]))],W=!0)},p(m,[_]){_&8&&(o.disabled=m[3]),_&1&&o.value!==m[0]&&F(o,m[0]),_&4&&q!==(q=m[2]?"Setup code":"Password")&&ie(S,q),_&8&&(p.disabled=m[3]),_&4&&I!==(I=m[2]?"Your setup code":"Your password")&&f(p,"aria-label",I),_&4&&B!==(B=m[2]?"Enter your setup code...":"Enter your password...")&&f(p,"placeholder",B),_&2&&p.value!==m[1]&&F(p,m[1]),_&8&&(A.disabled=m[3])},i:G,o:G,d(m){m&&d(t),W=!1,de(K)}}}function Te(n,t,l){let a;const{request:s}=ge;let e,r,i,u=!1,o=!1;const g=async S=>{console.log("A"),l(3,o=!0);let w=!0;if(i){console.log("D");try{await i}catch{w=!1}console.log("E")}if(a){console.log("C"),w=!0;try{await v(!1)}catch{w=!1}console.log("F")}w?he(r,u).catch(D=>{l(3,o=!1)}):l(3,o=!1)},v=(S=!0)=>{if(!(e==""||e==null))return a=!1,console.log("=",i),i=be(e.includes("://")?e:"https://"+e),console.log("+",i),S&&N(),i},N=async S=>{let w=!0;try{console.log("-",i),await i,console.log("G")}catch{w=!1}w&&l(2,u=!await s.password.status.set())};function $(){e=this.value,l(0,e)}function q(){r=this.value,l(1,r)}return n.$$.update=()=>{n.$$.dirty&1&&(a=e==e)},[e,r,u,o,g,v,$,q]}class Se extends H{constructor(t){super(),J(this,t,Te,ke,V,{})}}function Ae(n){let t,l,a,s,e;return l=new $e({}),s=new Se({}),{c(){t=h("main"),te(l.$$.fragment),a=k(),te(s.$$.fragment)},l(r){t=b(r,"MAIN",{});var i=E(t);ae(l.$$.fragment,i),a=T(i),ae(s.$$.fragment,i),i.forEach(d)},m(r,i){C(r,t,i),se(l,t,null),c(t,a),se(s,t,null),e=!0},p:G,i(r){e||(P(l.$$.fragment,r),P(s.$$.fragment,r),e=!0)},o(r){R(l.$$.fragment,r),R(s.$$.fragment,r),e=!1},d(r){r&&d(t),le(l),le(s)}}}function Le(n){return me(t=>{ve(!1,!0)}),[]}class Ce extends H{constructor(t){super(),J(this,t,Le,Ae,V,{})}}export{Ce as default};
